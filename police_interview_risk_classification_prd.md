# PRD (Product Requirements Document)

## 프로젝트명
수사 질답 기반 위험요소 자동 분류 시스템

## 도입 기관
대한민국 경찰청

## 플랫폼 형태
웹 애플리케이션 (Material UI 기반)

## 인증 정책
로그인 기능 없음 (내부망 또는 단일 세션 환경 사용 가정)

---

## 1. 제품 목적 (Product Goal)

수사 과정에서 생성되는 피의자–수사관 질의응답 내용과 사건조서(PDF)를 자동 분석하여, 사전에 정의된 위험행동 평가 체크리스트 항목별 해당 여부를 분류하고 수사관이 행동분석 및 위협평가 필요성을 빠르게 판단할 수 있도록 지원하는 시스템을 구축한다.

본 시스템은 수사 판단을 대체하는 도구가 아니라, 판단을 보조하는 분석 지원 도구를 목표로 한다.

---

## 2. 해결하려는 문제 (Problem Statement)

| 기존 방식 | 문제점 |
|-----------|--------|
| 수사관이 조서와 진술을 직접 검토 | 분석에 많은 시간 소요 |
| 평가 기준이 사람마다 다름 | 판단 일관성 부족 |
| 체크리스트 수기 작성 | 위험 신호 누락 가능성 존재 |

본 시스템은 비정형 진술 데이터를 구조화하여 자동 체크리스트 매핑을 수행함으로써 분석 속도와 일관성을 향상시키는 것을 목표로 한다.

---

## 3. 주요 사용자 (Primary Users)

| 사용자 | 역할 |
|--------|------|
| 수사관 | 사건 문서 업로드 및 결과 확인 |
| 프로파일러 / 분석관 | 위험요소 검토 및 판단 보조 |

---

## 4. 입력 데이터 (Inputs)

| 항목 | 설명 |
|------|------|
| 사건 조서 | 비정형 PDF 파일 (텍스트 기반 PDF만 처리 대상) |
| 질의응답 텍스트 | 조서 내 포함 또는 수동 입력 가능 |
| 평가 체크리스트 | 시스템 내부 로직으로 탑재된 고정 기준 |

※ OCR 기능은 본 범위에 포함되지 않는다.

---

## 5. 핵심 기능 (Core Features)

### 5.1 문서 처리

| 기능 | 설명 |
|------|------|
| PDF 업로드 | 드래그앤드롭 방식 업로드 |
| 텍스트 추출 | 텍스트 기반 PDF에서 문장 단위 추출 |
| 텍스트 정규화 | 불필요 정보 제거 및 문장 단위 분리 |

---

### 5.2 LLM 분석 엔진

다수 LLM API를 역할 기반으로 활용한다.

| 모델 | 용도 |
|------|------|
| Gemini | 긴 문맥 요약 및 구조화 |
| Claude | 의도, 감정, 맥락 해석 |
| ChatGPT | 체크리스트 항목 매핑 및 최종 분류 |

---

### 5.3 체크리스트 자동 분류

시스템은 다음 4개 영역을 기준으로 판단한다.

| 영역 | 분류 항목 |
|------|----------|
| 실행 가능성 우려 | 계획 구체성, 무기 준비 |
| 반복 우려 | 폭력 전력, 대인 갈등, 자살 행동, 음주·약물 문제 |
| 원한 / 동일시 우려 | 모방 행동, 지향적 분노 |
| 정신건강 우려 | 정신건강 증상, 비현실적 설명 |

각 항목은 다음 중 하나로 자동 분류된다.
- 예
- 아니오
- 알 수 없음

---

### 5.4 결과 리포트

| 출력 요소 | 설명 |
|----------|------|
| 체크리스트 결과표 | 항목별 자동 분류 결과 표시 |
| 근거 문장 하이라이트 | 판단 근거가 된 진술 문장 표시 |
| 종합 위험 신호 요약 | LLM 기반 요약 리포트 |
| 행동분석 필요 여부 플래그 | 규칙 기반 자동 표시 |

---

## 6. UI/UX 요구사항

디자인 시스템은 Material UI를 기반으로 한다.

### 주요 화면
1. 문서 업로드 화면
2. 분석 진행 상태 화면
3. 체크리스트 결과 대시보드
4. 근거 문장 뷰어

---

## 7. 시스템 아키텍처 개요

사용자 → 웹앱 → PDF 텍스트 추출 → 텍스트 정제  
→ LLM 분석 레이어  
→ 체크리스트 매핑 로직 (LLM + 규칙 기반)  
→ 결과 리포트 생성

---

## 8. 분류 로직 개요

| 단계 | 방식 |
|------|------|
| 1차 추출 | 사건 맥락 요약 |
| 2차 판단 | 체크리스트 항목별 질의 프롬프트 수행 |
| 3차 검증 | 규칙 기반 신뢰도 보정 |
| 4차 표시 | 근거 문장 + 최종 판단 제공 |

---

## 9. 보안 및 운영 제한 사항

| 항목 | 정책 |
|------|------|
| 로그인 | 없음 |
| 데이터 저장 | 세션 기반 임시 저장 권장 |
| 로그 기록 | 개인정보 최소화 |
| 외부 API 전송 | 민감정보 마스킹 후 전송 필요 |

---

## 10. 비포함 범위 (Out of Scope)

- 자동 수사 의사결정
- 법적 판단 자동화
- 실시간 모니터링 시스템
- 사용자 계정 관리 기능

---

## 11. 성공 지표 (Success Metrics)

| 지표 | 목표 |
|------|------|
| 자동 분류 정확도 | 전문가 판단 대비 80% 이상 |
| 분석 소요 시간 | 기존 수기 대비 50% 이상 단축 |
| 위험 신호 누락률 | 수동 방식 대비 유의미한 감소 |

---

## 12. 프로토타입 개발 단계 (Antigravity AI 기반)

본 시스템은 Antigravity AI 도구를 활용해 프로토타입을 제작한다.

| 단계 | 목표 | 산출물 |
|------|------|--------|
| Step 1. 요구사항 구조화 | 체크리스트 항목 및 분류 로직 정의 | 기능 명세서 |
| Step 2. UI 프로토타이핑 | 주요 화면 설계 (업로드, 결과 대시보드) | 인터랙티브 UI 시안 |
| Step 3. LLM 연동 시나리오 설계 | 입력–출력 프롬프트 흐름 설계 | 프롬프트 설계 문서 |
| Step 4. 분석 파이프라인 연결 | 문서 업로드 → 분석 → 결과 표시 흐름 구현 | 작동 가능한 프로토타입 |
| Step 5. 내부 테스트 | 샘플 사건 데이터 기반 정확도 검증 | 테스트 리포트 |
| Step 6. 개선 및 안정화 | 오분류 케이스 수정 및 프롬프트 보정 | 개선 버전 프로토타입 |

---

## 한 줄 정의

이 시스템은 비정형 수사 진술 속 위험 신호를 구조화하여 수사 판단을 보조하는 AI 기반 체크리스트 자동 분류 지원 도구이다.

